'use strict';

var marked = require('marked');

module.exports = function markdownLinkExtractor(markdown) {
    var links = [];

    var renderer = new marked.Renderer();
    renderer.link = function (href, title, text) {
    if (href.includes("http://help.sap.com")) {
        href = href.slice(0, 4) + "s" + href.slice(4);
    }
      /// Nancy M added this test for help.sap.com to change to https for testing purposes only. does not change file 2-15-2017	
        links.push(href);
	return marked.Renderer.prototype.link.apply(this, arguments);
    };
    marked(markdown, { renderer: renderer });

    return links;
};
